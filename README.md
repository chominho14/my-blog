## blog project

---

## 오류...

### 08.08

- 처음 Detail페이지에 들어와서 좋아요를 누르면 하트가 변했다가 다시 돌아온다. 그리고 한 번 더 클릭해야 변화가 감지 된다. 하지만 이때 변화는 데이터베이스에 들어가있는 값 반대로 실행된다...

- optimistic ui를 구현하는 도중 발생한 오류이다. reqct-query를 이용하여 구현하려고하니 쉽지 않다. 첫 랜더링에 대한 이해가 더 필요할 거 같다.

### 08.09

- Optimistic UI 좋아요 를 구현하면서 콘솔을 보고 내가 짠 코드의 흐름을 이해하는 과정을 거쳤다.

- v0.2.2에서 커밋된 useMutation코드들은 제대로 작동한다. 우선적으로 데이터 변화가 일어난 뒤 그 다음 데이터를 가져오는 과정이 문제인 거 같다. 백엔드에선 데이터 변화가 일어났지만 프론트에서 다시 refetch 해 주는 과정이 없다보니 예전 데이터를 계속 가져왔던 것이다.

- 이 방법이 최적화 된 방법은 아닌 거 같지만 useEffect와 setTimeout 함수를 이용하여 강제 refetch를 시켜 화면에 구현될 수 있도록 만들었다.
